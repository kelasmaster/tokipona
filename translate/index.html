<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toki Pona Translator</title>
    <style>
        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #166088;
            --background-color: #f8f9fa;
            --text-color: #333;
            --light-color: #fff;
            --shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 0;
            margin: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background-color: var(--primary-color);
            color: var(--light-color);
            padding: 20px 0;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .translator-container {
            display: flex;
            flex-direction: column;
            gap: 30px;
            margin-bottom: 40px;
        }

        @media (min-width: 768px) {
            .translator-container {
                flex-direction: row;
            }
        }

        .input-section, .output-section {
            flex: 1;
            background-color: var(--light-color);
            padding: 20px;
            border-radius: 8px;
            box-shadow: var(--shadow);
        }

        h2 {
            color: var(--secondary-color);
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        textarea {
            width: 100%;
            min-height: 200px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
            resize: vertical;
            margin-bottom: 15px;
        }

        button {
            background-color: var(--primary-color);
            color: var(--light-color);
            border: none;
            padding: 12px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: var(--secondary-color);
        }

        .examples {
            background-color: var(--light-color);
            padding: 20px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        .examples h2 {
            margin-bottom: 15px;
        }

        .examples ul {
            list-style-type: none;
        }

        .examples li {
            margin-bottom: 10px;
        }

        .examples a {
            color: var(--primary-color);
            text-decoration: none;
        }

        .examples a:hover {
            text-decoration: underline;
        }

        footer {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 0.9rem;
        }

        .loading {
            display: none;
            text-align: center;
            margin: 10px 0;
        }

        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 4px solid var(--primary-color);
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Toki Pona Translator</h1>
            <p class="subtitle">Translate Toki Pona to English</p>
        </div>
    </header>

    <main class="container">
        <div class="translator-container">
            <section class="input-section">
                <h2>Input Toki Pona Text</h2>
                <textarea id="inputText" placeholder="Enter Toki Pona text here..."></textarea>
                <button id="translateBtn">Translate</button>
                <div class="loading" id="loadingIndicator">
                    <div class="spinner"></div>
                    <p>Translating...</p>
                </div>
            </section>

            <section class="output-section">
                <h2>English Translation</h2>
                <textarea id="outputText" placeholder="Translation will appear here..." readonly></textarea>
                <button id="copyBtn">Copy Translation</button>
            </section>
        </div>

        <section class="examples">
            <h2>Example Texts</h2>
            <ul>
                <li><a href="#" class="example-link" data-example="jan">"jan" (person/human)</a></li>
                <li><a href="#" class="example-link" data-example="pona">"pona" (good/simple)</a></li>
                <li><a href="#" class="example-link" data-example="toki">"toki" (language/communication)</a></li>
                <li><a href="#" class="example-link" data-example="sentence">"toki pona li pona" (Toki Pona is good)</a></li>
                <li><a href="#" class="example-link" data-example="complex">"mi wile moku e kili loje" (I want to eat red fruit)</a></li>
            </ul>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>Toki Pona Translator &copy; 2023 | Based on original work by Sean B. Palmer</p>
        </div>
    </footer>

    <script>
        // Toki Pona dictionary
        const nimi = {
            'a': ['ah', 'ha', 'uh', 'oh', 'ooh', 'aw', 'well (emotion)'],
            'akesi': ['non-cute animal', 'reptile', 'amphibian', 'monster'],
            'ala': ['no', 'not', 'none', 'un-'],
            'alasa': ['hunt', 'forage', 'search', 'look for', 'seek'],
            'ale': ['all', 'every', 'complete', 'whole'],
            'ali': ['all', 'every', 'complete', 'whole'],
            'anpa': ['low', 'down', 'below', 'under', 'floor', 'bottom'],
            'ante': ['different', 'else', 'other', 'change', 'alter'],
            'anu': ['or'],
            'awen': ['stay', 'wait', 'remain', 'keep'],
            'e': ['(direct object marker)'],
            'en': ['and'],
            'esun': ['market', 'shop', 'fair', 'bazaar', 'business', 'commerce', 'trade'],
            'ijo': ['thing', 'phenomenon', 'object', 'matter'],
            'ike': ['bad', 'negative', 'wrong', 'evil', 'overly complex'],
            'ilo': ['tool', 'device', 'machine', 'apparatus'],
            'insa': ['inside', 'inner world', 'centre', 'stomach'],
            'jaki': ['disgusting', 'obscene', 'sickly', 'toxic', 'unclean'],
            'jan': ['person', 'people', 'human', 'being', 'somebody', 'anybody'],
            'jelo': ['yellow', 'light green'],
            'jo': ['have', 'contain'],
            'kala': ['fish', 'sea creature'],
            'kalama': ['sound', 'noise', 'voice'],
            'kama': ['come', 'become', 'arrive', 'happen', 'bring about', 'cause'],
            'kasi': ['plant', 'leaf', 'herb', 'tree', 'wood'],
            'ken': ['can', 'is able to', 'is allowed to', 'may', 'possible'],
            'kepeken': ['use', 'with', 'by means of'],
            'kili': ['fruit', 'pulp', 'vegetable', 'mushroom'],
            'kiwen': ['hard object', 'metal', 'rock', 'stone'],
            'ko': ['semi-solid', 'paste', 'powder', 'clay'],
            'kon': ['air', 'wind', 'smell', 'soul', 'spirit', 'essence'],
            'kule': ['color', 'paint'],
            'kulupu': ['group', 'community', 'society', 'company', 'people'],
            'kute': ['hear', 'listen', 'obey', 'pay attention to'],
            'la': ['(context particle)'],
            'lape': ['sleep', 'rest'],
            'laso': ['blue', 'green'],
            'lawa': ['head', 'mind', 'lead', 'control', 'direct', 'rule'],
            'len': ['cloth', 'clothing', 'fabric', 'towel'],
            'lete': ['cold', 'cool', 'uncooked', 'raw'],
            'li': ['(predicate marker)'],
            'lili': ['small', 'little', 'young', 'few', 'less'],
            'linja': ['long flexible object', 'string', 'rope', 'hair', 'thread', 'cord', 'chain'],
            'lipu': ['flat object', 'book', 'document', 'card', 'paper', 'record', 'website'],
            'loje': ['red'],
            'lon': ['be located in/at/on', 'present', 'real', 'true', 'existing'],
            'luka': ['arm', 'hand', 'five'],
            'lukin': ['see', 'look at', 'watch', 'read', 'visual', 'eye'],
            'lupa': ['hole', 'orifice', 'window', 'door'],
            'ma': ['land', 'earth', 'country', 'outdoor area'],
            'mama': ['parent', 'mother', 'father', 'ancestor', 'creator', 'originator'],
            'mani': ['money', 'cash', 'dollar', 'capital', 'wealth'],
            'meli': ['woman', 'female', 'wife', 'girlfriend'],
            'mi': ['I', 'me', 'we', 'us'],
            'mije': ['man', 'male', 'husband', 'boyfriend'],
            'moku': ['eat', 'drink', 'consume', 'swallow'],
            'moli': ['die', 'dead', 'death', 'kill'],
            'monsi': ['back', 'rear', 'behind'],
            'mu': ['moo', 'meow', 'woof', 'animal sound'],
            'mun': ['moon', 'night sky object'],
            'musi': ['fun', 'playing', 'game', 'recreation', 'art', 'entertainment'],
            'mute': ['many', 'very', 'much', 'several', 'a lot', 'more', 'most'],
            'nanpa': ['number', '-th (ordinal)'],
            'nasa': ['silly', 'crazy', 'foolish', 'drunk', 'strange', 'stupid', 'weird'],
            'nasin': ['way', 'manner', 'custom', 'road', 'path', 'doctrine', 'method', 'system'],
            'nena': ['bump', 'hill', 'mountain', 'button', 'nose', 'protuberance'],
            'ni': ['this', 'that'],
            'nimi': ['word', 'name'],
            'noka': ['leg', 'foot', 'organ of locomotion', 'bottom', 'lower part'],
            'o': ['(vocative or imperative particle)'],
            'olin': ['love', 'compassion', 'respect', 'affection'],
            'ona': ['he', 'she', 'it', 'they'],
            'open': ['open', 'begin', 'start', 'turn on'],
            'pakala': ['blunder', 'accident', 'mistake', 'destroy', 'damage', 'break', 'hurt'],
            'pali': ['do', 'make', 'build', 'create', 'work', 'activity'],
            'palisa': ['long hard object', 'stick', 'rod', 'pointy thing', 'finger', 'toe'],
            'pan': ['grain', 'bread', 'pasta', 'rice', 'corn', 'wheat'],
            'pana': ['give', 'send', 'emit', 'provide', 'put', 'release'],
            'pi': ['(possessive particle)'],
            'pilin': ['feelings', 'emotion', 'heart', 'feel', 'think', 'touch'],
            'pimeja': ['black', 'dark', 'darkness'],
            'pini': ['end', 'finish', 'close', 'stop', 'past'],
            'pipi': ['bug', 'insect', 'spider'],
            'poka': ['side', 'hip', 'next to', 'nearby', 'vicinity', 'with'],
            'poki': ['container', 'box', 'bowl', 'cup', 'glass'],
            'pona': ['good', 'simple', 'positive', 'nice', 'correct', 'peace'],
            'pu': ['(interacting with the official Toki Pona book)'],
            'sama': ['same', 'similar', 'equal', 'like', 'as'],
            'seli': ['fire', 'warm', 'hot', 'cook'],
            'selo': ['outer form', 'outer layer', 'skin', 'bark', 'shell', 'boundary'],
            'seme': ['what', 'which', 'wh- (question word)'],
            'sewi': ['high', 'up', 'above', 'top', 'over', 'on', 'sacred', 'superior', 'divine'],
            'sijelo': ['body', 'physical state'],
            'sike': ['circle', 'wheel', 'sphere', 'ball', 'round', 'cycle', 'year'],
            'sin': ['new', 'fresh', 'another', 'more', 'extra'],
            'sina': ['you'],
            'sinpin': ['front', 'face', 'chest', 'torso', 'wall'],
            'sitelen': ['picture', 'image', 'symbol', 'mark', 'write', 'draw'],
            'sona': ['know', 'understand', 'skill', 'wisdom'],
            'soweli': ['animal', 'land mammal', 'lovable animal'],
            'suli': ['big', 'tall', 'long', 'adult', 'important'],
            'suno': ['sun', 'light'],
            'supa': ['horizontal surface', 'furniture', 'table', 'chair', 'bed', 'platform'],
            'suwi': ['sweet', 'cute', 'adorable', 'dear', 'kind', 'nice'],
            'tan': ['from', 'by', 'because', 'since', 'reason', 'origin', 'cause'],
            'taso': ['but', 'only'],
            'tawa': ['to', 'toward', 'for', 'until', 'go to', 'move', 'travel'],
            'telo': ['water', 'liquid', 'juice', 'sauce', 'fluid', 'wet'],
            'tenpo': ['time', 'moment', 'period', 'situation', 'occasion', 'season'],
            'toki': ['language', 'speak', 'say', 'talk', 'communicate', 'greeting'],
            'tomo': ['indoor space', 'house', 'home', 'building', 'room'],
            'tu': ['two', 'divide', 'separate', 'split'],
            'unpa': ['sex', 'sexual', 'have sex with', 'make love'],
            'uta': ['mouth', 'lips', 'oral', 'jaw'],
            'utala': ['fight', 'battle', 'challenge', 'war', 'compete against'],
            'walo': ['white', 'whitish', 'light-colored'],
            'wan': ['one', 'unique', 'united', 'element', 'particle', 'unit'],
            'waso': ['bird', 'winged animal'],
            'wawa': ['strong', 'powerful', 'energy', 'intense', 'sure', 'confident'],
            'weka': ['absent', 'away', 'ignore', 'get rid of'],
            'wile': ['want', 'need', 'desire', 'must', 'should', 'will', 'wish']
        };

        // DOM elements
        const inputText = document.getElementById('inputText');
        const outputText = document.getElementById('outputText');
        const translateBtn = document.getElementById('translateBtn');
        const copyBtn = document.getElementById('copyBtn');
        const exampleLinks = document.querySelectorAll('.example-link');
        const loadingIndicator = document.getElementById('loadingIndicator');

        // Example texts
        const examples = {
            'jan': 'jan',
            'pona': 'pona',
            'toki': 'toki',
            'sentence': 'toki pona li pona',
            'complex': 'mi wile moku e kili loje'
        };

        // Translate Toki Pona to English
        function translateTokiPona(text) {
            // Split into words while preserving punctuation and tags
            const words = text.split(/(\s+|\W+)/);
            
            return words.map(word => {
                // Skip whitespace and punctuation
                if (!word.trim() || /^\W+$/.test(word)) {
                    return word;
                }
                
                const lowerWord = word.toLowerCase();
                
                // Check if word is in dictionary
                if (nimi.hasOwnProperty(lowerWord)) {
                    const translations = nimi[lowerWord];
                    // Return a random translation
                    return translations[Math.floor(Math.random() * translations.length)];
                }
                
                // Special cases for common particles
                const specialCases = {
                    'li': 'is',
                    'la': "it's said",
                    'e': 'such',
                    'o': '(command)'
                };
                
                return specialCases[lowerWord] || word;
            }).join('');
        }

        // Handle translation button click
        translateBtn.addEventListener('click', () => {
            const text = inputText.value.trim();
            
            if (!text) {
                alert('Please enter some Toki Pona text to translate');
                return;
            }
            
            // Show loading indicator
            loadingIndicator.style.display = 'block';
            
            // Simulate processing delay (remove in production)
            setTimeout(() => {
                const translation = translateTokiPona(text);
                outputText.value = translation;
                loadingIndicator.style.display = 'none';
            }, 500);
        });

        // Handle copy button click
        copyBtn.addEventListener('click', () => {
            outputText.select();
            document.execCommand('copy');
            
            // Visual feedback
            const originalText = copyBtn.textContent;
            copyBtn.textContent = 'Copied!';
            setTimeout(() => {
                copyBtn.textContent = originalText;
            }, 2000);
        });

        // Handle example links
        exampleLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const exampleKey = link.getAttribute('data-example');
                inputText.value = examples[exampleKey];
            });
        });

        // Allow translation with Enter key (Shift+Enter for new line)
        inputText.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                translateBtn.click();
            }
        });
    </script>
</body>
</html>
