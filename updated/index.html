<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Toki Pona Dictionary</title>
  <style>
    body {
      background-color: #121212;
      color: #f0f0f0;
      font-family: sans-serif;
      margin: 0;
      padding: 1rem;
    }
    input, button {
      padding: 0.5rem;
      font-size: 1rem;
      margin-bottom: 1rem;
    }
    input {
      width: 100%;
      background-color: #1e1e1e;
      color: #fff;
      border: 1px solid #333;
    }
    .word {
      padding: 1rem;
      margin-bottom: 0.5rem;
      background-color: #1e1e1e;
      border-radius: 6px;
    }
    .symbol {
      max-height: 50px;
      vertical-align: middle;
      margin-right: 0.5rem;
    }
    .toggle {
      margin-bottom: 1rem;
    }
    button {
      background: #333;
      color: white;
      border: none;
      padding: 0.3rem 0.6rem;
      border-radius: 4px;
      cursor: pointer;
    }
    #favorites .word {
      background-color: #222;
    }
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }
  </style>
</head>
<body>
  <h1>Toki Pona Dictionary</h1>
  <div class="controls">
    <label><input type="checkbox" id="langToggle"> Indonesian</label>
    <label><input type="checkbox" id="showWordsToggle" checked> Display Word</label>
    <label><input type="checkbox" id="darkModeToggle" checked> Dark Mode</label>
    <button id="translateEn">Translate in English</button>
    <button id="translateId">Translate in Indonesian</button>
  </div>
  <input type="text" id="search" placeholder="Type Toki Pona word or phrase..." />
  <div id="results"></div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const dictionary = {
        "a": ["ah! ha! uh! oh! (emotional expression)", "ah! ha! eh! oh! (ekspresi emosi)"],
        "akesi": ["non-cute animal (reptile, amphibian)", "hewan bukan imut (reptil, amfibi)"],
        "ala": ["no, not, none, un-", "tidak, bukan, tanpa"],
        "alasa": ["hunt, forage", "berburu, mencari makanan liar"],
        "ale": ["all, every, complete, abundance", "semua, lengkap, berlimpah"],
        "ali": ["all, every, complete, abundance (same as 'ale')", "semua, lengkap (sama dengan 'ale')"],
        "anpa": ["bowing, low, beneath, defeated", "merunduk, di bawah, kalah"],
        "ante": ["different, changed, other", "berbeda, berubah"],
        "anu": ["or (used in questions)", "atau (dalam pertanyaan)"],
        "awen": ["enduring, kept, safe, staying", "tetap, aman, bertahan"],
        "e": ["(object marker before direct object)", "(penanda objek langsung)"],
        "en": ["and (used between nouns)", "dan (antara kata benda)"]
        // Add more words to complete dictionary...
      };

      const searchInput = document.getElementById('search');
      const resultDiv = document.getElementById('results');
      const langToggle = document.getElementById('langToggle');
      const showWordsToggle = document.getElementById('showWordsToggle');
      const darkModeToggle = document.getElementById('darkModeToggle');
      const translateEn = document.getElementById('translateEn');
      const translateId = document.getElementById('translateId');

      function getSymbol(word) {
        return `<img src="https://sitelen.nimi.li/img/${word}.png" alt="${word}" class="symbol" onerror="this.style.display='none'" />`;
      }

      function renderWord(word) {
        const meanings = dictionary[word];
        if (!meanings) return '';
        const translation = langToggle.checked ? meanings[1] : meanings[0];
        const displayWord = showWordsToggle.checked ? `<strong>${word}</strong>: ` : '';
        return `
          <div class="word">
            ${getSymbol(word)} ${displayWord}${translation}
          </div>`;
      }

      function renderResults(words) {
        resultDiv.innerHTML = words.map(w => renderWord(w)).join('');
      }

      function translate(lang) {
        langToggle.checked = lang === 'id';
        const terms = searchInput.value.trim().toLowerCase().split(/\s+/).filter(w => dictionary[w]);
        renderResults(terms);
      }

      searchInput.addEventListener('input', () => {
        const terms = searchInput.value.trim().toLowerCase().split(/\s+/).filter(w => dictionary[w]);
        renderResults(terms);
      });

      langToggle.addEventListener('change', () => {
        const terms = searchInput.value.trim().toLowerCase().split(/\s+/).filter(w => dictionary[w]);
        renderResults(terms);
      });

      showWordsToggle.addEventListener('change', () => {
        const terms = searchInput.value.trim().toLowerCase().split(/\s+/).filter(w => dictionary[w]);
        renderResults(terms);
      });

      darkModeToggle.addEventListener('change', () => {
        document.body.style.backgroundColor = darkModeToggle.checked ? '#121212' : '#ffffff';
        document.body.style.color = darkModeToggle.checked ? '#f0f0f0' : '#000000';
      });

      translateEn.addEventListener('click', () => translate('en'));
      translateId.addEventListener('click', () => translate('id'));
    });
  </script>
</body>
</html>
